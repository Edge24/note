<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes App | Created by Aritra Bera</title>
    <link rel="icon" type="image/x-icon" href="img/Note pic.png">
    <link rel="stylesheet" href="note.css">
</head>
<body>
    <div class="container">
        <!--h1>Note App</h1-->
        <div class="note-input">
            <input type="text" id="noteTitle" placeholder="Enter title here...">
            <input type="text" id="noteText" placeholder="Enter your note here...">
            <button onclick="addNote()">Add new note</button>
        </div>
        <ul class="notes" id="noteList"></ul>
    </div>

    <footer>
        <div class="credit">Created by <span>Aritra Bera</span> | Varsion 2.1</div>
      </footer>
  
      <a class="float-note"
          href="https://edge24.github.io/Macro/">
          <img src="img/logo.png" alt="" style="height: 100%;">
      </a>

    <script>
        function loadNotes() {
            const notes = JSON.parse(localStorage.getItem('notes')) || [];
            const noteList = document.getElementById('noteList');
            noteList.innerHTML = '';
            notes.forEach(note => {
                addNoteToDOM(note.title, note.text);
            });
        }

        function saveNotes() {
            const notes = [];
            document.querySelectorAll('.note').forEach(note => {
                const title = note.querySelector('h3').textContent;
                const text = note.querySelector('span').textContent;
                notes.push({ title, text });
            });
            localStorage.setItem('notes', JSON.stringify(notes));
        }

        function addNote() {
            const noteTitle = document.getElementById('noteTitle').value;
            const noteText = document.getElementById('noteText').value;

            if (noteTitle.trim() === '' || noteText.trim() === '') {
                alert('Both title and note cannot be empty!');
                return;
            }

            addNoteToDOM(noteTitle, noteText);
            saveNotes();

            document.getElementById('noteTitle').value = '';
            document.getElementById('noteText').value = '';
        }

        function addNoteToDOM(title, text) {
            const noteList = document.getElementById('noteList');
            const li = document.createElement('li');
            li.className = 'note';

            const h3 = document.createElement('h3');
            h3.textContent = title;
            li.appendChild(h3);

            const span = document.createElement('span');
            span.textContent = text;
            li.appendChild(span);

            const buttonContainer = document.createElement('div');
            buttonContainer.className = 'note-buttons';

            const editButton = document.createElement('button');
            editButton.textContent = 'Edit';
            editButton.className = 'edit';
            editButton.onclick = function () {
                const newText = prompt('Edit your note:', span.textContent);
                const newTitle = prompt('Edit your title:', h3.textContent);
                
                if (newTitle !== null) {
                    h3.textContent = newTitle;
                }
                if (newText !== null) {
                    span.textContent = newText;
                }
                saveNotes();
            };
            buttonContainer.appendChild(editButton);

            const deleteButton = document.createElement('button');
            deleteButton.textContent = 'Delete';
            deleteButton.className = 'delete';
            deleteButton.onclick = function () {
                noteList.removeChild(li);
                saveNotes();
            };
            buttonContainer.appendChild(deleteButton);

            li.appendChild(buttonContainer);
            noteList.appendChild(li);
        }

        document.addEventListener('DOMContentLoaded', loadNotes);
    </script>
</body>
</html>
